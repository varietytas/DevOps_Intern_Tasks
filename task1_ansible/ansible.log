2025-05-03 21:34:26,415 p=2718 u=mksgrm n=ansible INFO| PLAY [Setup Nginx] ****************************************************************************************
2025-05-03 21:34:26,420 p=2718 u=mksgrm n=ansible INFO| TASK [Gathering Facts] ************************************************************************************
2025-05-03 21:34:35,720 p=2718 u=mksgrm n=ansible WARNING| [WARNING]: Platform linux on host nginx is using the discovered Python interpreter at /usr/bin/python3.11,
but future installation of another Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-core/2.18/reference_appendices/interpreter_discovery.html for more
information.

2025-05-03 21:34:35,720 p=2718 u=mksgrm n=ansible INFO| ok: [nginx]
2025-05-03 21:34:35,724 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Install/upgrade Nginx] **********************************************************************
2025-05-03 21:34:47,013 p=2718 u=mksgrm n=ansible INFO| changed: [nginx] => {"cache_update_time": 1746297280, "cache_updated": true, "changed": true, "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  nginx-common\nSuggested packages:\n  fcgiwrap nginx-doc ssl-cert\nThe following NEW packages will be installed:\n  nginx nginx-common\n0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 640 kB of archives.\nAfter this operation, 1696 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bookworm/main amd64 nginx-common all 1.22.1-9+deb12u1 [112 kB]\nGet:2 http://deb.debian.org/debian bookworm/main amd64 nginx amd64 1.22.1-9+deb12u1 [528 kB]\nPreconfiguring packages ...\nFetched 640 kB in 0s (1918 kB/s)\nSelecting previously unselected package nginx-common.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 37100 files and directories currently installed.)\r\nPreparing to unpack .../nginx-common_1.22.1-9+deb12u1_all.deb ...\r\nUnpacking nginx-common (1.22.1-9+deb12u1) ...\r\nSelecting previously unselected package nginx.\r\nPreparing to unpack .../nginx_1.22.1-9+deb12u1_amd64.deb ...\r\nUnpacking nginx (1.22.1-9+deb12u1) ...\r\nSetting up nginx-common (1.22.1-9+deb12u1) ...\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.\r\r\nSetting up nginx (1.22.1-9+deb12u1) ...\r\nUpgrading binary: nginx.\r\nProcessing triggers for man-db (2.11.2-2) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  nginx-common", "Suggested packages:", "  fcgiwrap nginx-doc ssl-cert", "The following NEW packages will be installed:", "  nginx nginx-common", "0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.", "Need to get 640 kB of archives.", "After this operation, 1696 kB of additional disk space will be used.", "Get:1 http://deb.debian.org/debian bookworm/main amd64 nginx-common all 1.22.1-9+deb12u1 [112 kB]", "Get:2 http://deb.debian.org/debian bookworm/main amd64 nginx amd64 1.22.1-9+deb12u1 [528 kB]", "Preconfiguring packages ...", "Fetched 640 kB in 0s (1918 kB/s)", "Selecting previously unselected package nginx-common.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 37100 files and directories currently installed.)", "Preparing to unpack .../nginx-common_1.22.1-9+deb12u1_all.deb ...", "Unpacking nginx-common (1.22.1-9+deb12u1) ...", "Selecting previously unselected package nginx.", "Preparing to unpack .../nginx_1.22.1-9+deb12u1_amd64.deb ...", "Unpacking nginx (1.22.1-9+deb12u1) ...", "Setting up nginx-common (1.22.1-9+deb12u1) ...", "Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service → /lib/systemd/system/nginx.service.", "", "Setting up nginx (1.22.1-9+deb12u1) ...", "Upgrading binary: nginx.", "Processing triggers for man-db (2.11.2-2) ..."]}
2025-05-03 21:34:47,034 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Disable default configuration] **************************************************************
2025-05-03 21:34:49,994 p=2718 u=mksgrm n=ansible INFO| changed: [nginx] => {"changed": true, "path": "/etc/nginx/sites-enabled/default", "state": "absent"}
2025-05-03 21:34:49,999 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Create directory for static nginx assets] ***************************************************
2025-05-03 21:34:53,256 p=2718 u=mksgrm n=ansible INFO| ok: [nginx] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/var/www/html", "size": 4096, "state": "directory", "uid": 0}
2025-05-03 21:34:53,264 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Copy the static asset] **********************************************************************
2025-05-03 21:35:02,000 p=2718 u=mksgrm n=ansible INFO| changed: [nginx] => {"changed": true, "checksum": "123b4569a44063b45813962b51c1e2add83ff12c", "dest": "/var/www/html/index.html", "gid": 0, "group": "root", "md5sum": "f348ae091f890cf0e300c4360b59880c", "mode": "0644", "owner": "root", "size": 946, "src": "/root/.ansible/tmp/ansible-tmp-1746297293.4927669-2862-108502933173933/.source.html", "state": "file", "uid": 0}
2025-05-03 21:35:02,005 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Copy the certificate] ***********************************************************************
2025-05-03 21:35:10,465 p=2718 u=mksgrm n=ansible INFO| changed: [nginx] => {"changed": true, "checksum": "1d07ffa3edb060daf4fa46a5f84bd71013f26f41", "dest": "/etc/nginx/ssl/cert.crt", "gid": 0, "group": "root", "md5sum": "b07660e27c07c2a3641643e444662c69", "mode": "0444", "owner": "root", "size": 1359, "src": "/root/.ansible/tmp/ansible-tmp-1746297302.251644-2911-251369613290420/.source.crt", "state": "file", "uid": 0}
2025-05-03 21:35:10,470 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Copy the certificate KEY] *******************************************************************
2025-05-03 21:35:19,469 p=2718 u=mksgrm n=ansible INFO| changed: [nginx] => {"changed": true, "checksum": "9e3595194833007540c62f4a207354c88d7c4812", "dest": "/etc/nginx/ssl/cert.key", "gid": 0, "group": "root", "md5sum": "32b9a93e9faa4866a81ded6f4f647b0b", "mode": "0400", "owner": "root", "size": 1704, "src": "/root/.ansible/tmp/ansible-tmp-1746297310.719309-2960-205756025076018/.source.key", "state": "file", "uid": 0}
2025-05-03 21:35:19,476 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Copy the configuration] *********************************************************************
2025-05-03 21:35:26,935 p=2718 u=mksgrm n=ansible INFO| changed: [nginx] => {"changed": true, "checksum": "be1efdcdec90be7e1240aa225ec0142d758365bd", "dest": "/etc/nginx/sites-available/nginx.conf", "gid": 0, "group": "root", "md5sum": "461fcb594c4b2562d443503548003a8c", "mode": "0644", "owner": "root", "size": 447, "src": "/root/.ansible/tmp/ansible-tmp-1746297319.7125719-3023-129848256010614/.source.conf", "state": "file", "uid": 0}
2025-05-03 21:35:26,940 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Enable the configuration] *******************************************************************
2025-05-03 21:35:30,515 p=2718 u=mksgrm n=ansible INFO| changed: [nginx] => {"changed": true, "dest": "/etc/nginx/sites-enabled/nginx.conf", "gid": 0, "group": "root", "mode": "0777", "owner": "root", "size": 37, "src": "/etc/nginx/sites-available/nginx.conf", "state": "link", "uid": 0}
2025-05-03 21:35:30,522 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Reload Nginx] *******************************************************************************
2025-05-03 21:35:34,468 p=2718 u=mksgrm n=ansible INFO| changed: [nginx] => {"changed": true, "name": "nginx", "state": "started", "status": {"ActiveEnterTimestamp": "Sat 2025-05-03 21:34:45 MSK", "ActiveEnterTimestampMonotonic": "519670589", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "systemd-journald.socket system.slice network-online.target remote-fs.target nss-lookup.target basic.target sysinit.target", "AllowIsolate": "no", "AssertResult": "yes", "AssertTimestamp": "Sat 2025-05-03 21:34:45 MSK", "AssertTimestampMonotonic": "519648654", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "yes", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "20431000", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanFreeze": "yes", "CanIsolate": "no", "CanReload": "yes", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Sat 2025-05-03 21:34:45 MSK", "ConditionTimestampMonotonic": "519648651", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/nginx.service", "ControlGroupId": "3245", "ControlPID": "0", "CoredumpFilter": "0x33", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "A high performance web server and a reverse proxy server", "DevicePolicy": "auto", "Documentation": "\"man:nginx(8)\"", "DynamicUser": "no", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "1558", "ExecMainStartTimestamp": "Sat 2025-05-03 21:34:45 MSK", "ExecMainStartTimestampMonotonic": "519828391", "ExecMainStatus": "0", "ExecReload": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStart": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Sat 2025-05-03 21:34:45 MSK] ; stop_time=[Sat 2025-05-03 21:34:45 MSK] ; pid=1535 ; code=exited ; status=0 }", "ExecStartEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; flags= ; start_time=[Sat 2025-05-03 21:34:45 MSK] ; stop_time=[Sat 2025-05-03 21:34:45 MSK] ; pid=1535 ; code=exited ; status=0 }", "ExecStartPre": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Sat 2025-05-03 21:34:45 MSK] ; stop_time=[Sat 2025-05-03 21:34:45 MSK] ; pid=1534 ; code=exited ; status=0 }", "ExecStartPreEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; flags= ; start_time=[Sat 2025-05-03 21:34:45 MSK] ; stop_time=[Sat 2025-05-03 21:34:45 MSK] ; pid=1534 ; code=exited ; status=0 }", "ExecStop": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStopEx": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExitType": "main", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/nginx.service", "FreezerState": "running", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "2", "IOSchedulingPriority": "4", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "nginx.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Sat 2025-05-03 21:34:45 MSK", "InactiveExitTimestampMonotonic": "519660298", "InvocationID": "f1ea447122f44f4eb69c9f2c85a8f7b6", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "mixed", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "8388608", "LimitMEMLOCKSoft": "8388608", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "3655", "LimitNPROCSoft": "3655", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "3655", "LimitSIGPENDINGSoft": "3655", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "1558", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimit": "0", "ManagedOOMPreference": "none", "ManagedOOMSwap": "auto", "MemoryAccounting": "yes", "MemoryAvailable": "infinity", "MemoryCurrent": "1851392", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAPolicy": "n/a", "Names": "nginx.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "OnSuccessJobMode": "fail", "PIDFile": "/run/nginx.pid", "Perpetual": "no", "PrivateDevices": "no", "PrivateIPC": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProcSubset": "all", "ProtectClock": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectProc": "default", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "no", "RestartKillSignal": "15", "RestartUSec": "100ms", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "RuntimeRandomizedExtraUSec": "0", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Sat 2025-05-03 21:34:45 MSK", "StateChangeTimestampMonotonic": "519670589", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "2147483646", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "2", "TasksMax": "1096", "TimeoutAbortUSec": "5s", "TimeoutCleanUSec": "infinity", "TimeoutStartFailureMode": "terminate", "TimeoutStartUSec": "1min 30s", "TimeoutStopFailureMode": "terminate", "TimeoutStopUSec": "5s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "forking", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "network-online.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
2025-05-03 21:35:34,472 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Ensure Nginx is active] *********************************************************************
2025-05-03 21:35:39,730 p=2718 u=mksgrm n=ansible INFO| ok: [nginx] => {"changed": false, "enabled": true, "name": "nginx", "state": "started", "status": {"ActiveEnterTimestamp": "Sat 2025-05-03 21:34:45 MSK", "ActiveEnterTimestampMonotonic": "519670589", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "systemd-journald.socket system.slice network-online.target remote-fs.target nss-lookup.target basic.target sysinit.target", "AllowIsolate": "no", "AssertResult": "yes", "AssertTimestamp": "Sat 2025-05-03 21:34:45 MSK", "AssertTimestampMonotonic": "519648654", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "yes", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "38657000", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanFreeze": "yes", "CanIsolate": "no", "CanReload": "yes", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Sat 2025-05-03 21:34:45 MSK", "ConditionTimestampMonotonic": "519648651", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/nginx.service", "ControlGroupId": "3245", "ControlPID": "0", "CoredumpFilter": "0x33", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "A high performance web server and a reverse proxy server", "DevicePolicy": "auto", "Documentation": "\"man:nginx(8)\"", "DynamicUser": "no", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "1558", "ExecMainStartTimestamp": "Sat 2025-05-03 21:34:45 MSK", "ExecMainStartTimestampMonotonic": "519828391", "ExecMainStatus": "0", "ExecReload": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; ignore_errors=no ; start_time=[Sat 2025-05-03 21:35:34 MSK] ; stop_time=[Sat 2025-05-03 21:35:34 MSK] ; pid=1784 ; code=exited ; status=0 }", "ExecReloadEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; -s reload ; flags= ; start_time=[Sat 2025-05-03 21:35:34 MSK] ; stop_time=[Sat 2025-05-03 21:35:34 MSK] ; pid=1784 ; code=exited ; status=0 }", "ExecStart": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Sat 2025-05-03 21:34:45 MSK] ; stop_time=[Sat 2025-05-03 21:34:45 MSK] ; pid=1535 ; code=exited ; status=0 }", "ExecStartEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -g daemon on; master_process on; ; flags= ; start_time=[Sat 2025-05-03 21:34:45 MSK] ; stop_time=[Sat 2025-05-03 21:34:45 MSK] ; pid=1535 ; code=exited ; status=0 }", "ExecStartPre": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; ignore_errors=no ; start_time=[Sat 2025-05-03 21:34:45 MSK] ; stop_time=[Sat 2025-05-03 21:34:45 MSK] ; pid=1534 ; code=exited ; status=0 }", "ExecStartPreEx": "{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t -q -g daemon on; master_process on; ; flags= ; start_time=[Sat 2025-05-03 21:34:45 MSK] ; stop_time=[Sat 2025-05-03 21:34:45 MSK] ; pid=1534 ; code=exited ; status=0 }", "ExecStop": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; ignore_errors=yes ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStopEx": "{ path=/sbin/start-stop-daemon ; argv[]=/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid ; flags=ignore-failure ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExitType": "main", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/nginx.service", "FreezerState": "running", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "2", "IOSchedulingPriority": "4", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "nginx.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Sat 2025-05-03 21:34:45 MSK", "InactiveExitTimestampMonotonic": "519660298", "InvocationID": "f1ea447122f44f4eb69c9f2c85a8f7b6", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "mixed", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "8388608", "LimitMEMLOCKSoft": "8388608", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "3655", "LimitNPROCSoft": "3655", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "3655", "LimitSIGPENDINGSoft": "3655", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "1558", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimit": "0", "ManagedOOMPreference": "none", "ManagedOOMSwap": "auto", "MemoryAccounting": "yes", "MemoryAvailable": "infinity", "MemoryCurrent": "2314240", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAPolicy": "n/a", "Names": "nginx.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "none", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "OnSuccessJobMode": "fail", "PIDFile": "/run/nginx.pid", "Perpetual": "no", "PrivateDevices": "no", "PrivateIPC": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProcSubset": "all", "ProtectClock": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectProc": "default", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "sysinit.target system.slice", "Restart": "no", "RestartKillSignal": "15", "RestartUSec": "100ms", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "RuntimeRandomizedExtraUSec": "0", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Sat 2025-05-03 21:35:34 MSK", "StateChangeTimestampMonotonic": "568296988", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "2147483646", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "2", "TasksMax": "1096", "TimeoutAbortUSec": "5s", "TimeoutCleanUSec": "infinity", "TimeoutStartFailureMode": "terminate", "TimeoutStartUSec": "1min 30s", "TimeoutStopFailureMode": "terminate", "TimeoutStopUSec": "5s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "forking", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "network-online.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
2025-05-03 21:35:39,737 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Check Nginx port 80] ************************************************************************
2025-05-03 21:35:43,011 p=2718 u=mksgrm n=ansible INFO| [DEPRECATION WARNING]: Using 'yes' or 'no' for 'follow_redirects' parameter is deprecated. This feature 
will be removed in version 2.22. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2025-05-03 21:35:43,011 p=2718 u=mksgrm n=ansible INFO| ok: [nginx] => {"body": "<html>\r\n<head><title>301 Moved Permanently</title></head>\r\n<body>\r\n<center><h1>301 Moved Permanently</h1></center>\r\n<hr><center>nginx</center>\r\n</body>\r\n</html>\r\n", "changed": false, "connection": "close", "content_length": "162", "content_type": "text/html", "date": "Sat, 03 May 2025 18:35:42 GMT", "elapsed": 0, "location": "https://90.156.225.198/", "msg": "HTTP Error 301: Moved Permanently", "redirected": false, "server": "nginx", "status": 301, "url": "http://90.156.225.198/"}
2025-05-03 21:35:43,013 p=2718 u=mksgrm n=ansible INFO| TASK [nginx : Check Nginx port 443] ***********************************************************************
2025-05-03 21:35:46,332 p=2718 u=mksgrm n=ansible INFO| ok: [nginx] => {"accept_ranges": "bytes", "changed": false, "connection": "close", "content_length": "946", "content_type": "text/html", "cookies": {}, "cookies_string": "", "date": "Sat, 03 May 2025 18:35:46 GMT", "elapsed": 0, "etag": "\"681661d1-3b2\"", "last_modified": "Sat, 03 May 2025 18:34:57 GMT", "msg": "OK (946 bytes)", "redirected": false, "server": "nginx/1.22.1", "status": 200, "url": "https://90.156.225.198/"}
2025-05-03 21:35:46,341 p=2718 u=mksgrm n=ansible INFO| PLAY RECAP ************************************************************************************************
2025-05-03 21:35:46,341 p=2718 u=mksgrm n=ansible INFO| nginx                      : ok=13   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
